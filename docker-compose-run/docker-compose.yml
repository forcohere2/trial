services:
  nginx:
    image: dockerteamstl/nginx:latest  # Pull the NGINX image from Docker Hub
    ports:
      - "80:80"  # Expose only port 80 externally
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf  # Bind NGINX config file
    depends_on:
      - python-server
      - node-server
    networks:
      - app-network

  python-server:
    image: dockerteamstl/text-processor-python-server:latest  # Pull the Python server image
    networks:
      - app-network

  node-server:
    image: dockerteamstl/text-processor-node-server:latest  # Pull the Node.js server image
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
